# 写真アルバムアプリ Ver1.60

## 概要

「写真アルバムアプリ」は、お気に入りの写真とコメントを組み合わせて、オリジナルのデジタルアルバムを作成するためのWebアプリケーションです。作成したアルバムは、A4サイズに最適化されたレイアウトでPDFとして保存・印刷したり、編集データをファイルとして保存・読み込みしたりすることができます。

**画像は自動で最適化（リサイズ）される**ため、ファイルサイズを気にすることなく、手軽にアルバム作りを楽しめます。

## 主な特徴

-   **サムネイル機能**: 画面右側に全ページのサムネイルを一覧表示。クリックすれば目的のページに瞬時にジャンプでき、全体の構成を把握しながら編集できます。
-   **多彩なページレイアウト**: 1ページに最大8枚の写真を配置可能。全面1枚の迫力あるレイアウトから、複数の写真をまとめるグリッドレイアウトまで、7種類のテンプレートから自由に選べます。
-   **かんたんなページ編集**: 各ページに表示されるボタンから、ページの**削除**や**順番の入れ替え**を直感的に行えます。
-   **フルカスタマイズ可能なテキスト**: アルバム全体のタイトル・サブタイトルはもちろん、各写真につけるコメントも、フォントの種類やサイズを自由に設定できます。
-   **画像の自動最適化**: アルバムに追加した画像は、美しさを損なわないレベルで自動的にリサイズ・圧縮されます。これにより、**保存するJSONファイルのサイズが劇的に小さく**なり、管理が非常に簡単になります。
-   **データの保存と復元**: 作成したアルバムのデータは、いつでも軽量なJSONファイルとしてPCに保存（エクスポート）できます。また、保存したファイルを読み込む（インポートする）ことで、いつでも編集を再開できます。
-   **印刷・PDF化対応**: 作成したページは、ブラウザの印刷機能を通じて、ご家庭のプリンターで印刷したり、高品質なPDFファイルとして保存したりできます。

## 使い方

### 1. 基本設定（タイトルやフォント）
1.  画面左のコントロールパネルにある「設定」タブを開きます。
2.  「メインタイトル」「サブタイトル」や、それぞれのフォント、文字サイズを設定します。変更は中央のプレビューにリアルタイムで反映されます。

### 2. 写真の追加とコメント入力
1.  中央のアルバムページにある、各写真エリアの `ファイルを選択` ボタンをクリックし、写真を選びます。
2.  画像が自動的にリサイズされ、プレビューに表示されます。（処理中は画面にスピナーが表示されます）
3.  写真の下にあるテキストエリアに、コメントを入力します。
4.  アップロードした写真をクリックすると、拡大表示され、入力したコメントが字幕として表示されます。

### 3. ページの管理
-   **ページの追加**: `新しいページを追加` ボタンを押すと、アルバムの末尾に新しいページが追加されます。
-   **ページの削除**: 削除したいページの左上にある**ゴミ箱アイコン**をクリックし、確認メッセージでOKを押します。
-   **ページの入れ替え**: 移動したいページの左上にある**移動アイコン**をクリックします。表示されたダイアログで移動先（例：「ページ3の後ろ」）を選択し、「決定」ボタンを押します。

### 4. サムネイルの活用
-   画面右側のサムネイル一覧から、見たいページのサムネイルをクリックすると、中央の表示がそのページへジャンプします。
-   中央のページをスクロールすると、現在表示されているページに対応するサムネイルが自動でハイライトされます。

### 5. データの保存と読み込み
-   **保存 (エクスポート)**: `JSONファイルを保存` ボタンを押すと、現在のアルバム全体のデータが軽量なJSONファイルとしてPCにダウンロードされます。**作業を中断・終了する際は、必ずこの操作でデータを保存してください。**
-   **読み込み (インポート)**: `JSONファイルを読み込む` ボタンを押し、以前保存したJSONファイルを選択します。
    -   読み込み時に画像の最適化処理が自動で実行されます。これにより、**過去に作成した巨大なJSONファイルを読み込んで保存し直すだけで、ファイルサイズを軽量化できます。**

### 6. 印刷（PDFとして保存）
1.  `PDFとして印刷` ボタンを押すと、ブラウザの印刷プレビュー画面が開きます。
2.  **設定のポイント**:
    -   **送信先/プリンター**: 「PDFとして保存」を選択します。
    -   **レイアウト**: 「縦」を選択します。
    -   **詳細設定 > 余白**: 「なし」または「最小」を選択します。
    -   **詳細設定 > ヘッダーとフッター**: チェックを外します。
3.  設定が完了したら `保存` または `印刷` ボタンを押します。

## 注意事項
-   このアプリケーションは、データをブラウザに自動保存する機能はありません。ページの再読み込みやブラウザを閉じてしまうと、編集中の内容は失われます。こまめに`JSONファイルを保存`することを強く推奨します。

## 更新履歴

-   **Ver 1.60**:
    -   画面右側にサムネイルペインを追加。クリックによるページジャンプと、スクロールに連動したハイライト機能を実装。
    -   全体のレイアウトを3ペイン構成に変更。
-   **Ver 1.56**:
    -   ページの入れ替え機能を、ドラッグ＆ドロップ方式から移動先を指定するダイアログ方式に変更し、操作性を向上。
-   **Ver 1.55**:
    -   各ページに削除ボタンと、ドラッグ＆ドロップによるページ入れ替え機能を追加。
-   **Ver 1.54**:
    -   画像処理中にスピナーとメッセージを表示する機能を追加。
-   **Ver 1.52**:
    -   画像の自動リサイズ機能を実装。PCからの新規アップロード時、およびJSONファイル読み込み時に画像が最適化され、保存されるJSONファイルのサイズが大幅に軽量化されるように修正。